<form [formGroup]="newAcctForm" (ngSubmit)="onFormSubmit()">

    <!-- Show a horizontal stepper on larger devices -->
    <mat-horizontal-stepper *ngIf="!alignVertical" labelPosition="bottom">
        <!-- Use font awesome icons in the stepper to indicate progress -->
        <ng-template matStepperIcon="done">
            <fa-icon [icon]="stepDoneIcon"></fa-icon>
        </ng-template>
        <ng-template matStepperIcon="edit">
            <fa-icon [icon]="stepDoneIcon"></fa-icon>
        </ng-template>

        <mat-step label="Terms Of Use" [stepControl]="'termsOfUse'">
            <account-agreement-step [newAcctForm]="newAcctForm" [step]="'Terms of Use'">
            </account-agreement-step>
            <div fxLayout="row" fxLayoutAlign="end">
                <button mat-button matStepperNext type="button" [disabled]="!termsOfUseControl.valid">
                    Next
                </button>
            </div>
        </mat-step>

        <mat-step label="Privacy Policy" [stepControl]="'privacyPolicy'">
            <account-agreement-step [newAcctForm]="newAcctForm" [step]="'Privacy Policy'">
            </account-agreement-step>
            <div fxLayout="row" fxLayoutAlign="end">
                <button mat-button matStepperNext type="button" [disabled]="!privacyPolicyControl.valid">
                    Next
                </button>
            </div>
        </mat-step>

        <mat-step label="Log In Method" [stepControl]="'login'">
            <account-authentication-step [newAcctForm]="newAcctForm"></account-authentication-step>
            <div fxLayout="row" fxLayoutAlign="end">
                <button mat-button matStepperNext type="button" [disabled]="!loginControl.valid">
                    Next
                </button>
            </div>
        </mat-step>

        <mat-step label="Display Name" [stepControl]="'displayName'">
            <account-display-name-step [newAcctForm]="newAcctForm"></account-display-name-step>
            <div fxLayout="row" fxLayoutAlign="end">
                <button mat-button matStepperNext type="button" [disabled]="!displayNameControl.valid">
                    Next
                </button>
            </div>
        </mat-step>

        <mat-step label="Support Mycroft" [stepControl]="'support'">
            <account-support-step [newAcctForm]="newAcctForm"></account-support-step>
            <div fxLayout="row" fxLayoutAlign="end">
                <button mat-button matStepperNext [disabled]="!supportControl.valid">
                    Next
                </button>
            </div>
        </mat-step>

        <!-- Step 6: DONE! -->
        <mat-step label="Done!">
            <account-done-step [newAcctForm]="newAcctForm"></account-done-step>
        </mat-step>
    </mat-horizontal-stepper>

    <!-- Show a vertical stepper on smaller devices -->
    <mat-vertical-stepper *ngIf="alignVertical" [linear]="true">
        <!-- Use font awesome icons in the stepper to indicate progress -->
        <ng-template matStepperIcon="done">
            <fa-icon [icon]="stepDoneIcon"></fa-icon>
        </ng-template>
        <ng-template matStepperIcon="edit">
            <fa-icon [icon]="stepDoneIcon"></fa-icon>
        </ng-template>

        <!-- Step 1: Accept Terms of Use -->
        <mat-step label="Terms Of Use" [stepControl]="'termsOfUse'">
            <account-agreement-step [newAcctForm]="newAcctForm" [step]="'Terms of Use'">
            </account-agreement-step>
            <div fxLayout="row" fxLayoutAlign="end">
                <button mat-button matStepperNext type="button" [disabled]="!termsOfUseControl.valid">
                    Next
                </button>
            </div>
        </mat-step>

        <mat-step label="Privacy Policy" [stepControl]="'privacyPolicy'">
            <account-agreement-step [newAcctForm]="newAcctForm" [step]="'Privacy Policy'">
            </account-agreement-step>
            <div fxLayout="row" fxLayoutAlign="end">
                <button mat-button matStepperNext type="button" [disabled]="!privacyPolicyControl.valid">
                    Next
                </button>
            </div>
        </mat-step>

        <mat-step label="Log In Method" [stepControl]="'login'">
            <account-authentication-step [newAcctForm]="newAcctForm"></account-authentication-step>
            <div fxLayout="row" fxLayoutAlign="end">
                <button mat-button matStepperNext type="button" [disabled]="!loginControl.valid">
                    Next
                </button>
            </div>
        </mat-step>

        <mat-step label="Display Name" [stepControl]="'displayName'">
            <account-display-name-step [newAcctForm]="newAcctForm"></account-display-name-step>
            <div fxLayout="row" fxLayoutAlign="end">
                <button mat-button matStepperNext type="button" [disabled]="!displayNameControl.valid">
                    Next
                </button>
            </div>
        </mat-step>

        <mat-step label="Support Mycroft" [stepControl]="'support'">
            <account-support-step [newAcctForm]="newAcctForm"></account-support-step>
            <div fxLayout="row" fxLayoutAlign="end">
                <button mat-button matStepperNext type="button" [disabled]="!supportControl.valid">
                    Next
                </button>
            </div>
        </mat-step>

        <!-- Step 6: DONE! -->
        <mat-step label="Done!">
            <account-done-step [newAcctForm]="newAcctForm"></account-done-step>
        </mat-step>
    </mat-vertical-stepper>
</form>
