
    <!-- Show a horizontal stepper on larger devices -->
    <mat-horizontal-stepper *ngIf="!alignVertical" labelPosition="bottom">
        <!-- Use font awesome icons in the stepper to indicate progress -->
        <ng-template matStepperIcon="done">
            <fa-icon [icon]="stepDoneIcon"></fa-icon>
        </ng-template>
        <ng-template matStepperIcon="edit">
            <fa-icon [icon]="stepDoneIcon"></fa-icon>
        </ng-template>

        <mat-step label="Pairing" [stepControl]="pairDeviceForm">
            <form [formGroup]="pairDeviceForm" (ngSubmit)="onPairingSubmit()">
                <account-device-pairing [pairingCodeControl]="pairingCodeControl"></account-device-pairing>
                <div fxLayout="row" fxLayoutAlign="end">
                    <button mat-button matStepperNext [disabled]="!pairDeviceForm.valid">
                        Next
                    </button>
                </div>
            </form>
        </mat-step>

        <mat-step *ngIf="!preferences" label="Preferences" [stepControl]="preferencesForm">
            <form [formGroup]="preferencesForm" (ngSubmit)="onPreferencesSubmit()">
                <account-device-preferences
                        [preferencesForm]="preferencesForm"
                        [deviceSetup]="true"
                >
                </account-device-preferences>
                <div fxLayout="row" fxLayoutAlign="end">
                    <button mat-button matStepperNext [disabled]="!preferencesForm.valid">
                        Next
                    </button>
                </div>
            </form>
        </mat-step>

        <mat-step *ngIf="!preferences" label="Defaults" [stepControl]="defaultsForm">
            <form [formGroup]="defaultsForm" (ngSubmit)="onDefaultsSubmit()">
                <account-device-defaults
                        [defaultsForm]="defaultsForm"
                        [deviceSetup]="true"
                >
                </account-device-defaults>
                <div fxLayout="row" fxLayoutAlign="end">
                    <button mat-button matStepperNext [disabled]="!defaultsForm.valid">
                        Next
                    </button>
                </div>
            </form>
        </mat-step>

        <!--<mat-step label="Device" [stepControl]="preferencesForm">-->
            <!--<form [formGroup]="preferencesForm" (ngSubmit)="onPreferencesSubmit()">-->
                <!--<account-device-preferences-->
                        <!--[preferencesForm]="preferencesForm"-->
                        <!--[deviceSetup]="true"-->
                <!--&gt;-->
                <!--</account-device-preferences>-->
                <!--<button mat-button matStepperNext [disabled]="!preferencesForm.valid">-->
                    <!--Next-->
                <!--</button>-->
            <!--</form>-->
        <!--</mat-step>-->
    </mat-horizontal-stepper>

    <!-- Show a vertical stepper on smaller devices -->
    <mat-vertical-stepper *ngIf="alignVertical">
        <!-- Use font awesome icons in the stepper to indicate progress -->
        <ng-template matStepperIcon="done">
            <fa-icon [icon]="stepDoneIcon"></fa-icon>
        </ng-template>
        <ng-template matStepperIcon="edit">
            <fa-icon [icon]="stepDoneIcon"></fa-icon>
        </ng-template>

        <mat-step label="Pairing" [stepControl]="pairDeviceForm">
            <account-device-pairing></account-device-pairing>
            <button mat-button matStepperNext type="button" [disabled]="!pairDeviceForm.valid">
                Next
            </button>
        </mat-step>

        <mat-step *ngIf="!preferences" label="Preferences" [stepControl]="preferencesForm">
            <form [formGroup]="preferencesForm" (ngSubmit)="onPreferencesSubmit()">
                <account-device-preferences
                        [preferencesForm]="preferencesForm"
                        [deviceSetup]="true"
                >
                </account-device-preferences>
                <button mat-button matStepperNext [disabled]="!preferencesForm.valid">
                    Next
                </button>
            </form>
        </mat-step>

        <mat-step *ngIf="!preferences" label="Defaults" [stepControl]="defaultsForm">
            <form [formGroup]="defaultsForm" (ngSubmit)="onDefaultsSubmit()">
                <account-device-defaults
                        [defaultsForm]="defaultsForm"
                        [deviceSetup]="true"
                >
                </account-device-defaults>
                <button mat-button matStepperNext [disabled]="!preferencesForm.valid">
                    Next
                </button>
            </form>
        </mat-step>

    </mat-vertical-stepper>
